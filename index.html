<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" />
<!--允许全屏-->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="yes" name="apple-touch-fullscreen"/>
<meta content="telephone=no,email=no" name="format-detection"/>
<link rel="apple-touch-icon" href="favicon.png"/>
<link rel="Shortcut Icon" href="favicon.png" type="image/x-icon" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
<title>lib.gesture demo</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

ul, ol {
    -webkit-margin-before: 0;
    -webkit-margin-after: 0;
    -webkit-margin-start: 0;
    -webkit-margin-end: 0;
    -webkit-padding-before: 0;
    -webkit-padding-after: 0;
    -webkit-padding-start: 0;
    -webkit-padding-end: 0;
}

body * {
    -webkit-text-size-adjust:none;
    /*-webkit-user-select: none;*/
    -webkit-tap-highlight-color: rgba(0,0,0,0);
}

body > div {
    width:100%;
    height:100%;
    overflow:hidden;
    position:absolute;
    top:0;
    left:0;
}

.viewport {
    position:relative;
    width:100%;
    height:100%;
    box-sizing:border-box;
}
</style>
</head>
<body>

<div>
    <div class="viewport">
        <div class="active"></div>
        <div class="inactive"></div>
    </div>
</div>
<script src="build/combo.debug.js" type="text/javascript"></script>
<!-- <script src="../motion/src/motion.js" type="text/javascript"></script>
<script src="../gesture/src/gesture.js" type="text/javascript"></script>
<script src="src/scroll.js" type="text/javascript"></script> -->
<script type="text/javascript">
    (function () {
        var viewportEl = document.querySelector('.viewport');
        var activeEl = document.querySelector('.viewport .active');
        var inactiveEl = document.querySelector('.viewport .inactive');
        var html1 = [], html2 = [];

        viewportEl.style.cssText = 'background-color:#000; width:100%; height:100%; overflow:hidden; display: -webkit-box;';
        activeEl.style.cssText = 'color:black; border:1px solid #ccc; box-sizing: border-box; width:50%; height:100%; -webkit-flex:1; overflow:hidden;'
        inactiveEl.style.cssText = 'color:white; border:1px solid #ccc; box-sizing: border-box; width:50%; height:100%; -webkit-flex:1; overflow:hidden;'


        for (var i = 0; i < 50; i++) {
            html1.push('<span style="height:25px;"><select onclick=""><option>' + i + '</option></select></span><br />');
        }

        for (var i = 0; i < 20; i++) {
            html2.push('<div style="height:25px;"><input type="text" value="' + i + '" /></div>');
        }
        activeEl.innerHTML = '<section>' + html1.join('') + '</section>';
        inactiveEl.innerHTML = '<section>' + html1.join('') + 
            '<div style="border:1px solid red; margin:10px auto; width:60%; height:250px; overflow:hidden;"><section>' + html2.join('') + '</section></div></section>';

        var scrollEl1 = activeEl.querySelector('section');
        var scrollEl2 = inactiveEl.querySelector('section');
        var scrollEl3 = scrollEl2.querySelector('section');

        scrollEl1.style.backgroundColor = '#CCC';
        scrollEl2.style.backgroundColor = '#999';
        scrollEl2.style.paddingBottom = '30px';
        scrollEl3.style.backgroundColor = '#333';

        // activeEl.addEventListener('click', function(e) {
        //     var target = e.target,
        //         ev;

        //     if ( !(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName) ) {
        //         ev = document.createEvent('MouseEvents');
        //         ev.initMouseEvent('click', true, true, e.view, 1,
        //             target.screenX, target.screenY, target.clientX, target.clientY,
        //             e.ctrlKey, e.altKey, e.shiftKey, e.metaKey,
        //             0, null);

        //         ev._constructed = true;
        //         target.dispatchEvent(ev);
        //     }
        // }, false);

        window['scrollObj1'] = lib.scroll(scrollEl1);

        window['scrollObj2'] = lib.scroll(scrollEl2);

        window['scrollObj3'] = lib.scroll(scrollEl3);
    })();
</script>

</body>
</html>

