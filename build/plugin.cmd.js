!function(a,b){function c(a){var b,c={x:0,y:0},d=getComputedStyle(a)[i+"Transform"];return"none"!==d&&(b=d.match(/^matrix3d\(\d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+), [-\d.]+, \d+\)/)||d.match(/^matrix\(\d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+)\)$/))&&(c.x=parseInt(b[1])||0,c.y=parseInt(b[2])||0),c}var d=a.document,e=a.navigator.userAgent,f=!!e.match(/Firefox/i),g=!!e.match(/IEMobile/i),h=f?"-moz-":g?"-ms-":"-webkit-",i=f?"Moz":g?"ms":"webkit";b.scroll.plugin("force-repaint",function(a,c){function e(){g.style.opacity=Math.abs(parseInt(g.style.opacity)-1)+""}var f=this,g=(this.options,this.forceRepaintElement=d.createElement("div"));g.className="force-repaint",g.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 0; font-size: 0; opacity: 1; translateZ(0)",this.viewport.appendChild(g),c.whenScrolling!==!1?this.addScrollingHandler(e):b.animation.requestFrame(function(){f.isScrolling&&e(),b.animation.requestFrame(arguments.callee)})}),b.scroll.plugin("fixed",function(a,b){function c(a,b){"string"==typeof a?b.innerHTML=a:a instanceof HTMLElement&&b.appendChild(a)}this.options;getComputedStyle(this.viewport).position.match(/^relative|absolute$/)||(this.viewport.style.position="relative"),getComputedStyle(this.element).position.match(/^relative|absolute$/)||(this.element.style.position="absolute");var e=d.createDocumentFragment();if("y"===this.axis){var f=b.topOffset||0,g=b.bottomOffset||0,i=this.topFixedElement=d.createElement("div");i.className="top-fixed",i.style.cssText="z-index:9; position: absolute; top: "+f+"px; left: 0; width: 100%; "+h+"transform: translateZ(9px);";var j=this.bottomFixedElement=d.createElement("div");j.className="bottom-fxied",j.style.cssText="z-index:9; position: absolute; bottom: "+g+"px; left: 0; width: 100%; "+h+"transform: translateZ(9px);",b.topElement&&c(b.topElement,i),b.bottomElement&&c(b.bottomElement,j),e.appendChild(i),e.appendChild(j)}else{var k=b.leftOffset||0,l=b.rightOffset||0,m=this.leftFixedElement=d.createElement("div");m.className="left-fixed",m.style.cssText="z-index:9; position: absolute; top: 0; left: "+k+"px; height: 100%; "+h+"transform: translateZ(9px);";var n=this.rightFixedElement=d.createElement("div");n.className="right-fxied",n.style.cssText="z-index:9; position: absolute; top: 0; right: "+l+"px; height: 100%; "+h+"transform: translateZ(9px);",b.leftElement&&c(b.leftElement,m),b.rightElement&&c(b.rightElement,n),e.appendChild(m),e.appendChild(n)}this.viewport.appendChild(e)}),b.scroll.plugin("lazyload",function(a,c){function d(){if(!k){if(k=!0,g>i&&h.length>0){var a=h.shift();i++;var b=new Image;b.src=a,b.onload=b.onreadystatechange=function(){j[a]!==!0&&(j[a].forEach(function(b){b&&b(a)}),j[a]=!0,i--),d()},d()}k=!1}}function e(a,b){return j[a]===!0?b(a):(j[a]?j[a].push(b):(j[a]=[b],h.push(a)),d(),void 0)}var f=this,g=(this.options,4),h=[],i=0,j={},k=!1;this.checkLazyload=function(){var a=Array.prototype.slice.call(this.element.querySelectorAll(".lazy"));a.filter(function(a){return f.isInView(a)}).forEach(function(a){var b,d;"IMG"===a.tagName.toUpperCase()?(b=[a],d=[]):(b=Array.prototype.slice.call(a.querySelectorAll("img[data-src]")),d=Array.prototype.slice.call(a.querySelectorAll("*[data-image]")),a.hasAttribute("data-image")&&d.push(a)),b.forEach(function(a){var b=a.getAttribute("data-src");b&&(a.removeAttribute("data-src"),e(b,function(){a.src=b}))}),d.forEach(function(a){var b=a.getAttribute("data-image");b&&(a.removeAttribute("data-image"),e(b,function(){a.style.backgroundImage="url("+b+")"}))}),c.onlazyload&&c.onlazyload(a),a.className=a.className.split(" ").filter(function(a){return"lazy"!==a}).join(" ")})},c.realTimeLoad&&(this.enablePlugin("force-repaint"),this.addScrollingHandler(function(){f.checkLazyload()})),this.addScrollendHandler(function(){f.checkLazyload()}),this.element.addEventListener("contentrefresh",function(){f.checkLazyload()}),b.animation.requestFrame(function(){f.checkLazyload()})}),b.scroll.plugin("sticky",function(a,b){this.enablePlugin("force-repaint");var c=this.options,e=(b.offset||0)+(c.padding.top||0),f=this.stickyWrapElement=d.createElement("div");f.className="stick-wrap",f.style.cssText="z-index:9; position: absolute; top: "+e+"px; left: 0; width: 100%; "+h+"transform: translateZ(9px);",this.viewport.appendChild(f),this.makeSticky=function(a){var b=this;if(a){if(a.className.indexOf("sticky-able")>=0)return;a.style.position="absolute",a.className=a.className.split(/\s+/).filter(function(a){return"sticky"!=a}).join(" ")+" sticky-able";var c=a.parentNode;this.addScrollingHandler(function(){b.checkSticky(a,c)}),this.addScrollendHandler(function(){b.checkSticky(a,c)})}else Array.prototype.slice.call(this.element.querySelectorAll(".sticky")).forEach(function(a){b.makeSticky(a)})},this.checkSticky=function(a,b){this.getRect(b).top<e?this.stickyWrapElement.appendChild(a):this.getRect(b).top>e&&b.appendChild(a)},this.makeSticky()}),b.scroll.plugin("refresh",function(a,e){function f(){if(!l){l=!0,g.disable();var a=c(k).y,d=0-a,f=c(g.element).y,h=g.minScrollOffset+e.height-f,j=new b.animation(400,b.cubicbezier.ease,0,function(b,c){k.style[i+"Transform"]="translateY("+(a+d*c)+"px) translateZ(9px)",g.element.style[i+"Transform"]="translateY("+(f+h*c)+"px) translateZ(9px)"});j.onend(function(){e.onrefresh.call(g,function(){var a=c(k).y,d=-e.height-a;g.scrollTo(0,!0);var f=new b.animation(400,b.cubicbezier.ease,0,function(b,c){k.style[i+"Transform"]="translateY("+(a+d*c)+"px) translateZ(9px)"});f.onend(function(){g.enable(),g.refresh(),l=!1}),f.play()})}),j.play()}}var g=this,j=this.options;getComputedStyle(this.viewport).position.match(/^relative|absolute$/)||(this.viewport.style.position="relative"),getComputedStyle(this.element).position.match(/^relative|absolute$/)||(this.element.style.position="absolute"),e.height=e.height||0,e.offset=(e.offset||0)+(j.padding.top||0);var k=this.refreshElement=d.createElement("div");k.className="refresh",k.style.cssText=["position: absolute","top: "+e.offset+"px","left: 0","width: 100%","height: "+e.height+"px",h+"transform: translateY(-"+e.height+"px) translateZ(9px)"].join(";"),e.html||"string"==typeof e.element?k.innerHTML=e.html||e.element:e.element instanceof HTMLElement&&k.appendChild(e.element),this.viewport.appendChild(k);var l;this.addScrollingHandler(function(){if(!l){{var a=g.getScrollTop();c(k)}k.style[i+"Transform"]="translateY("+-(e.height+a)+"px) translateZ(9px)",0>a?("none"===k.style.display&&(k.style.display=""),e.onpull&&e.onpull.call(g,-a)):""===k.style.display&&(k.style.display="none")}}),this.element.addEventListener("pulldownend",function(){if(!l){var a=g.getBoundaryOffset();a>e.height&&f()}},!1)}),b.scroll.plugin("update",function(a,c){function e(){if(!k){if(k=!0,!c.onupdate)throw new Error('no "onupdate" Handler');c.onupdate.call(f,function(){b.animation.requestFrame(function(){j.style[i+"Transition"]="",f.refresh(),j.style[i+"Transform"]="translateY("+(f.getMaxScrollTop()+c.height)+"px) translateZ(9px)",k=!1})})}}{var f=this,g=this.options;c.offset}getComputedStyle(this.viewport).position.match(/^relative|absolute$/)||(this.viewport.style.position="relative"),getComputedStyle(this.element).position.match(/^relative|absolute$/)||(this.element.style.position="absolute"),c.height=c.height||0,c.offset=(g.padding.bottom||0)-(c.offset||0);var j=this.updateElement=d.createElement("div");j.className="update",j.style.cssText=["position: absolute","bottom: "+c.offset+"px","left: 0","width: 100%","height: "+c.height+"px",h+"transform: translateY("+(f.getMaxScrollTop()+c.height)+"px) translateZ(9px)"].join(";"),"string"==typeof c.element?j.innerHTML=c.element:c.element instanceof HTMLElement&&j.appendChild(c.element),this.viewport.appendChild(j);var k;this.addScrollingHandler(function(){var a=f.getScrollTop(),b=f.getMaxScrollTop();j.style[i+"Transform"]="translateY("+(b+c.height-a)+"px) translateZ(9px)",k||(a>b?"none"===j.style.display&&(j.style.display=""):""===j.style.display&&(j.style.display="none"),b-a<.2*c.height?e():c.onpull&&c.onpull.call(f))})})}(window,window.lib||(window.lib={}));
if (window.KISSY) {KISSY.add('mtb/lib-scroll/2.6.0/plugin.cmd',function() {return window.lib.scroll;},{requries:['mtb/lib-motion','mtb/lib-gesture','mtb/lib-cubicbezier','mtb/lib-animation']});} else if ('undefined' !== typeof define) {define('mtb/lib-scroll/2.6.0/plugin.cmd', [], function(require){require('mtb/lib-motion');require('mtb/lib-gesture');require('mtb/lib-cubicbezier');require('mtb/lib-animation');return window.lib.scroll;});}