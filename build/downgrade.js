!function(a,b){function c(){b.scroll.outputDebugLog&&console.debug.apply(console,arguments)}function d(a){var b=a.getBoundingClientRect();if(!b){b={},b.width=a.offsetWidth,b.height=a.offsetHeight,b.left=a.offsetLeft,b.top=a.offsetTop;for(var c=a.offsetParent;c;)b.left+=c.offsetLeft,b.top+=c.offsetTop,c=c.offsetParent;b.right=b.left+b.width,b.bottom=b.top+b.height}return b}function e(a){return 0-a.options[a.axis+"PaddingTop"]}function f(a){var b=d(a.element),c=d(a.viewport),f=e(a);if("y"===a.axis)var g=0-b.height+c.height;else var g=0-b.width+c.width;return Math.min(g+a.options[a.axis+"PaddingBottom"],f)}function g(a,b){return b>a.minScrollOffset?b-a.minScrollOffset:b<a.maxScrollOffset?b-a.maxScrollOffset:void 0}function h(a,b,d){c(a.element.scrollId,b,d);var e=j.createEvent("HTMLEvents");if(e.initEvent(b,!1,!0),e.scrollObj=a,d)for(var f in d)e[f]=d[f];a.element.dispatchEvent(e),a.viewport.dispatchEvent(e)}function i(a,b){var c=this;b=b||{},b.noBounce=!!b.noBounce,b.padding=b.padding||{},b.isPrevent=null==b.isPrevent?!0:!!b.isPrevent,b.isFixScrollendClick=null==b.isFixScrollendClick?!0:!!b.isFixScrollendClick,b.padding?(b.yPaddingTop=-b.padding.top||0,b.yPaddingBottom=-b.padding.bottom||0,b.xPaddingTop=-b.padding.left||0,b.xPaddingBottom=-b.padding.right||0):(b.yPaddingTop=0,b.yPaddingBottom=0,b.xPaddingTop=0,b.xPaddingBottom=0),b.direction=b.direction||"y",b.inertia=b.inertia||"normal",this.options=b,c.axis=b.direction,this.element=a,this.viewport=a.parentNode,this.plugins={},this.element.scrollId=setTimeout(function(){k[c.element.scrollId+""]=c},1),this.viewport.style.overflow="hidden",this.viewport.style["overflow"+this.axis.toUpperCase()]="scroll",this.viewport.style.webkitOverflowScrolling="touch",this.viewport.style.msOverflowScrolling="touch",this.viewport.style.overflowScrolling="touch";var e=!1,i=0;this.viewport.addEventListener("scroll",function(){var a="y"===c.axis?c.getScrollTop():c.getScrollLeft();i===a?h(c,"scrollstart"):h(c,"scrolling"),setTimeout(function(){var b="y"===c.axis?c.getScrollTop():c.getScrollLeft();a===b&&h(c,"scrollend")},50)}),this.viewport.addEventListener("scrollstart",function(){e=!0},!1),this.viewport.addEventListener("scrolling",function(){e=!0},!1),this.viewport.addEventListener("scrollend",function(){e=!1,i="y"===c.axis?c.getScrollTop():c.getScrollLeft()},!1),this.viewport.addEventListener("click",function(a){var b=document.createEvent("HTMLEvents");b.initEvent("niceclick",!0,!0),a.target.dispatchEvent(b)},!1);var j={init:function(){return this.enable(),this.refresh(),this.scrollTo(0),this},enable:function(){return this.enabled=!0,this},disable:function(){return this.enabled=!1,this},getScrollWidth:function(){return d(this.element).width},getScrollHeight:function(){return d(this.element).height},getScrollLeft:function(){return this.viewport.scrollLeft-this.options.xPaddingTop},getScrollTop:function(){return this.viewport.scrollTop-this.options.yPaddingTop},getMaxScrollLeft:function(){return-f(this)-this.options.xPaddingTop},getMaxScrollTop:function(){return-f(this)-this.options.yPaddingTop},getBoundaryOffset:function(){return Math.abs(g(this,this["getScroll"+("y"===this.axis?"Top":"Left")])||0)},refresh:function(){return"y"===this.axis?(this.element.style.paddingTop=-this.options.yPaddingTop+"px",this.element.style.paddingBottom=-this.options.yPaddingBottom+"px"):(this.element.style.paddingLeft=-this.options.xPaddingTop+"px",this.element.style.paddingRight=-this.options.xPaddingBottom+"px"),h(this,"contentrefresh"),this},offset:function(a){var b=d(this.element),c=d(a);if("y"===this.axis){var e={top:c.top-b.top-this.options.yPaddingTop,left:c.left-b.left,right:b.right-c.right,width:c.width,height:c.height};e.bottom=e.top+e.height}else{var e={top:c.top-b.top,bottom:b.bottom-c.bottom,left:c.left-b.left-this.options.xPaddingTop,width:c.width,height:c.height};e.right=e.left+e.width}return e},getRect:function(a){var b=d(this.viewport),c=d(a);if("y"===this.axis){var e={top:c.top-b.top,left:c.left-b.left,right:b.right-c.right,width:c.width,height:c.height};e.bottom=e.top+e.height}else{var e={top:c.top-b.top,bottom:b.bottom-c.bottom,left:c.left-b.left,width:c.width,height:c.height};e.right=e.left+e.width}return e},isInView:function(a){var b=this.getRect(this.viewport),c=this.getRect(a);return"y"===this.axis?b.top<c.bottom&&b.bottom>c.top:b.left<c.right&&b.right>c.left},scrollTo:function(a){var b=(this.element,"y"===this.axis?"Top":"Left");return e=!0,this.viewport["scroll"+b]=a,h(this,"scrollend"),this},scrollToElement:function(a,b){var c=this.offset(a);return c=c["y"===this.axis?"top":"left"],this.scrollTo(c,b)},getViewWidth:function(){return d(this.viewport).width},getViewHeight:function(){return d(this.viewport).height},addPulldownHandler:function(){return this},addPullupHandler:function(){return this},addScrollstartHandler:function(a){var b=this;return this.element.addEventListener("scrollstart",function(c){a.call(b,c)},!1),this},addScrollingHandler:function(a){var b=this;return this.element.addEventListener("scrolling",function(c){a.call(b,c)},!1),this},addScrollendHandler:function(a){var b=this;return this.element.addEventListener("scrollend",function(c){a.call(b,c)},!1),this},addContentrenfreshHandler:function(a){var b=this;this.element.addEventListener("contentrefresh",function(c){a.call(b,c)},!1)},addEventListener:function(a,b,c){var d=this;this.element.addEventListener(a,function(a){b.call(d,a)},!!c)},removeEventListener:function(a,b){var c=this;this.element.removeEventListener(a,function(a){b.call(c,a)})}};for(var l in j)this[l]=j[l];delete j}var j=a.document,k={};b.scroll?b.scroll.downgrade=function(a,b){var c;return c=a.scrollId?k[a.scrollId]:new i(a,b)}:b.scroll=function(a,b){if(1===arguments.length&&!(arguments[0]instanceof HTMLElement))if(b=arguments[0],b.scrollElement)a=b.scrollElement;else{if(!b.scrollWrap)throw new Error("no scroll element");a=b.scrollWrap.firstElementChild}if(!a.parentNode)throw new Error("wrong dom tree");if(b&&b.direction&&["x","y"].indexOf(b.direction)<0)throw new Error("wrong direction");var c;return c=a.scrollId?k[a.scrollId]:new i(a,b)}}(window,window.lib||(window.lib={}));